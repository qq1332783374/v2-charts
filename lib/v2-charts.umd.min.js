(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["v2-charts"]=e():t["v2-charts"]=e()})("undefined"!==typeof self?self:this,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s="fb15")}({8875:function(t,e,r){var n,i,a;(function(r,s){i=[],n=s,a="function"===typeof n?n.apply(e,i):n,void 0===a||(t.exports=a)})("undefined"!==typeof self&&self,(function(){function t(){var e=Object.getOwnPropertyDescriptor(document,"currentScript");if(!e&&"currentScript"in document&&document.currentScript)return document.currentScript;if(e&&e.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(h){var r,n,i,a=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,s=/@([^@]*):(\d+):(\d+)\s*$/gi,o=a.exec(h.stack)||s.exec(h.stack),c=o&&o[1]||!1,l=o&&o[2]||!1,d=document.location.href.replace(document.location.hash,""),u=document.getElementsByTagName("script");c===d&&(r=document.documentElement.outerHTML,n=new RegExp("(?:[^\\n]+?\\n){0,"+(l-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),i=r.replace(n,"$1").trim());for(var p=0;p<u.length;p++){if("interactive"===u[p].readyState)return u[p];if(u[p].src===c)return u[p];if(c===d&&u[p].innerHTML&&u[p].innerHTML.trim()===i)return u[p]}return null}}return t}))},fb15:function(t,e,r){"use strict";r.r(e),r.d(e,"Charts",(function(){return M})),r.d(e,"ChartsEmpty",(function(){return H})),r.d(e,"ChartsLegend",(function(){return R})),r.d(e,"ChartsLoading",(function(){return q})),r.d(e,"ChartsSeries",(function(){return tt})),r.d(e,"ChartsTitle",(function(){return ct})),r.d(e,"ChartsTooltip",(function(){return vt})),r.d(e,"ChartsXAxis",(function(){return bt})),r.d(e,"ChartsYAxis",(function(){return bt}));var n={};if(r.r(n),r.d(n,"Charts",(function(){return M})),r.d(n,"ChartsEmpty",(function(){return H})),r.d(n,"ChartsLegend",(function(){return R})),r.d(n,"ChartsLoading",(function(){return q})),r.d(n,"ChartsSeries",(function(){return tt})),r.d(n,"ChartsTitle",(function(){return ct})),r.d(n,"ChartsTooltip",(function(){return vt})),r.d(n,"ChartsXAxis",(function(){return bt})),r.d(n,"ChartsYAxis",(function(){return bt})),"undefined"!==typeof window){var i=window.document.currentScript,a=r("8875");i=a(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:a});var s=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);s&&(r.p=s[1])}var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"dv-charts",staticStyle:{position:"relative"},style:t.styles},[t.loading&&t.empty?t._e():r("div",{staticClass:"charts",staticStyle:{width:"100%",height:"100%"},attrs:{id:t.domId}},[t._t("default")],2),r("loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{title:t.loadingText}}),r("empty",{directives:[{name:"show",rawName:"v-show",value:!t.loading&&t.empty,expression:"!loading && empty"}],attrs:{title:t.emptyText}})],1)},c=[];const l=()=>{const t="echarts@5.1.2";return new Promise((e,r)=>{if(window.echarts)e(window.echarts);else{const n=document.getElementById(t);if(n)return e(window.echarts);const i=document.createElement("script");i.id=t,i.type="text/javascript",i.async=!0,i.src="https://cdn.jsdelivr.net/npm/echarts@5.1.2/dist/echarts.min.js",i.onerror=r,document.head.appendChild(i),i.onload=()=>{e(window.echarts)}}})},d=()=>{let t=[];for(let e=0;e<6;e++){let r=String.fromCharCode(65+Math.floor(19*Math.random())+e);t.push(r)}return t.reduce((t,e)=>t+e)},u=t=>(t.install=e=>{e.component(t.name,t)},t);function p(){const t="_charts"!==this.$parent.componentName||!this.$parent.setOptions;return t&&console.error("请配合 Charts 组件使用"),t}function h(t,e,r){let n={interval:2e3,loopSeries:!1,seriesIndex:0,updateData:null};if(!t||!e)return{};let i,a=0,s=0,o=0,c=e.series.length,l=0,d=!0;function u(){function n(){0!==a||d||"function"!==typeof r.updateData||(r.updateData(),t.setOption(e));let n=e.series;i=n[s].type,l=n[s].data.length;let o={seriesIndex:s};switch(i){case"map":case"pie":case"chord":o.name=n[s].data[a].name;break;case"radar":o.seriesIndex=s,o.dataIndex=a;break;default:o.dataIndex=a;break}"pie"!==i&&"radar"!==i||(t.dispatchAction({type:"downplay",seriesIndex:r.loopSeries?0===s?c-1:s-1:s,dataIndex:0===a?l-1:a-1}),t.dispatchAction({type:"highlight",seriesIndex:s,dataIndex:a})),o.type="showTip",t.dispatchAction(o),a=(a+1)%l,r.loopSeries&&0===a&&!d&&(s=(s+1)%c),d=!1}n(),o=setInterval(n,r.interval)}function p(){o&&(clearInterval(o),o=0,"pie"!==i&&"radar"!==i||t.dispatchAction({type:"downplay",seriesIndex:r.loopSeries?0===s?c-1:s-1:s,dataIndex:0===a?l-1:a-1}))}r?(r.interval=r.interval||n.interval,r.loopSeries=r.loopSeries||n.loopSeries,r.seriesIndex=r.seriesIndex||n.seriesIndex,r.updateData=r.updateData||n.updateData):r=n,s=r.seriesIndex<0||r.seriesIndex>=c?0:r.seriesIndex;let h=t.getZr();function f(t){t.event&&(t.event.cancelBubble=!0),p()}function m(){o||u()}return t.on("mousemove",p),h.on("mousemove",f),h.on("globalout",m),u(),window.clearChartLoop=function(){o&&(clearInterval(o),o=0),t.off("mousemove",p),h.off("mousemove",f),h.off("globalout",m)},{clearLoop:function(){o&&(clearInterval(o),o=0),t.off("mousemove",p),h.off("mousemove",f),h.off("globalout",m)}}}var f=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"dv-loading",staticStyle:{width:"100%",height:"100%",display:"flex","flex-direction":"column","justify-content":"center","align-items":"center",position:"absolute",top:"0",left:"0",right:"0",bottom:"0","z-index":"9"}},[r("svg",{attrs:{width:"50px",height:"50px"}},[r("circle",{attrs:{cx:"25",cy:"25",r:"20",fill:"transparent","stroke-width":"3","stroke-dasharray":"31.415, 31.415",stroke:"#02bcfe","stroke-linecap":"round"}},[r("animateTransform",{attrs:{attributeName:"transform",type:"rotate",values:"0, 25 25;360, 25 25",dur:"1.5s",repeatCount:"indefinite"}}),r("animate",{attrs:{attributeName:"stroke",values:"#02bcfe;#3be6cb;#02bcfe",dur:"3s",repeatCount:"indefinite"}})],1),r("circle",{attrs:{cx:"25",cy:"25",r:"10",fill:"transparent","stroke-width":"3","stroke-dasharray":"15.7, 15.7",stroke:"#3be6cb","stroke-linecap":"round"}},[r("animateTransform",{attrs:{attributeName:"transform",type:"rotate",values:"360, 25 25;0, 25 25",dur:"1.5s",repeatCount:"indefinite"}}),r("animate",{attrs:{attributeName:"stroke",values:"#3be6cb;#02bcfe;#3be6cb",dur:"3s",repeatCount:"indefinite"}})],1)]),r("div",{staticClass:"loading-tip",staticStyle:{"font-size":"14px"}},[t._v(" "+t._s(t.title)+" ")])])},m=[],v={name:"charts-loading",props:{title:{type:String}}},y=v;function x(t,e,r,n,i,a,s,o){var c,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),n&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),s?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=o?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var d=l.render;l.render=function(t,e){return c.call(e),d(t,e)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,c):[c]}return{exports:t,options:l}}var g=x(y,f,m,!1,null,null,null),w=g.exports,S=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"empty",staticStyle:{display:"flex","align-items":"center","justify-content":"center","flex-direction":"column",position:"absolute",top:"0",left:"0",right:"0",bottom:"0",color:"#8897a2","font-size":"12px"}},[r("svg",{staticClass:"icon",attrs:{t:"1627444130943",viewBox:"0 0 1566 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5049",width:"80",height:"80"}},[r("path",{attrs:{d:"M156.661991 699.757959h21.096999a10.443999 10.443999 0 0 1 10.235999 10.443999c0 5.765-4.491 10.443999-10.235999 10.444h-21.096999v21.097999a10.443999 10.443999 0 0 1-10.444 10.234999 10.276999 10.276999 0 0 1-10.443999-10.234999v-21.097999h-21.096999a10.443999 10.443999 0 0 1-10.234999-10.444c0-5.765 4.49-10.443999 10.234999-10.443999h21.096999v-21.096999a10.443999 10.443999 0 0 1 10.443999-10.234999c5.765 0 10.443999 4.49 10.444 10.234999v21.096999z m1378.627919-83.552995v-21.096999a10.276999 10.276999 0 0 0-10.443999-10.234999 10.443999 10.443999 0 0 0-10.444 10.234999v21.096999h-21.096998a10.276999 10.276999 0 0 0-10.235 10.443999c0 5.598 4.595 10.443999 10.235 10.444h21.096998v21.096998c0 5.745 4.679 10.235999 10.444 10.236a10.443999 10.443999 0 0 0 10.443999-10.236v-21.096998h21.097999c5.744 0 10.234999-4.679 10.234999-10.444a10.443999 10.443999 0 0 0-10.234999-10.443999h-21.097999zM776.459955 960.861944H250.596985a20.804999 20.804999 0 0 1-20.825998-20.887999c0-11.529999 9.462999-20.888999 20.825998-20.888999h94.727995a83.009995 83.009995 0 0 1-11.112-41.671997v-605.969965a83.489995 83.489995 0 0 1 83.636996-83.447995h62.580996v-20.992999a83.489995 83.489995 0 0 1 83.636995-83.448995h501.151971a83.448995 83.448995 0 0 1 83.636995 83.448995v605.969965c0 15.184999-4.053 29.409998-11.134 41.671997h115.553994c11.551999 0 20.909999 9.273999 20.909998 20.887999 0 11.529999-9.295999 20.887999-20.888998 20.887999h-250.659986v20.992999c0 15.185999-4.052 29.409998-11.132999 41.671997h11.195999c11.488999 0 20.825999 9.274999 20.825999 20.888999 0 11.529999-9.462999 20.887999-20.825999 20.887999H892.807948a41.657998 41.657998 0 0 1-6.413 50.862997 41.671998 41.671998 0 0 1-59.071996 0l-50.862997-50.862997z m76.367995-41.776998h66.423996c22.977999 0 41.609998-18.589999 41.609998-41.879997V270.460984c0-22.559999-18.047999-40.689998-40.313998-40.689997H416.303976c-22.266999 0-40.314998 18.213999-40.314998 40.689997v606.741965c0 23.123999 18.799999 41.880998 41.589998 41.880997h317.083981l-10.736999-10.756999a41.692998 41.692998 0 0 1-10.862-40.376998l-19.718999-19.739999a146.259991 146.259991 0 0 1-190.980988-220.516987 146.217991 146.217991 0 0 1 220.517987 190.980989l19.738998 19.739999a41.629998 41.629998 0 0 1 40.376998 10.839999l69.829996 69.829996z m149.809991-104.440994h62.852997a41.796998 41.796998 0 0 0 41.589997-41.776997v-605.759965c0-23.144999-18.632999-41.776998-41.589997-41.776997H563.774967a41.796998 41.796998 0 0 0-41.566998 41.775997v20.888999h396.793977a83.448995 83.448995 0 0 1 83.636995 83.448995v543.199968zM266.326984 46.998997h31.122999c8.773999 0 15.875999 6.955 15.875999 15.665999 0 8.647999-7.102 15.665999-15.875999 15.665999h-31.122999v31.123999c0 8.772999-6.956 15.874999-15.665999 15.874999a15.769999 15.769999 0 0 1-15.666999-15.874999V78.329995H203.869988a15.728999 15.728999 0 0 1-15.874999-15.665999c0-8.647999 7.102-15.665999 15.874999-15.665999h31.122998V15.874999C234.992986 7.102 241.949986 0 250.659985 0c8.646999 0 15.665999 7.102 15.665999 15.874999V46.999997zM20.887999 939.973945c0-11.529999 9.462999-20.888999 20.825999-20.888999h125.454992c11.488999 0 20.825999 9.274999 20.825999 20.888999 0 11.529999-9.462999 20.887999-20.825999 20.887999H41.713998a20.804999 20.804999 0 0 1-20.825999-20.887999z m658.733961-135.021992A104.441994 104.441994 0 1 0 531.899969 657.229961a104.441994 104.441994 0 0 0 147.721991 147.721992z m-220.079987-491.626971a20.887999 20.887999 0 0 1 20.867999-20.888999h229.791986a20.887999 20.887999 0 1 1 0 41.776997H480.430972a20.825999 20.825999 0 0 1-20.887999-20.887998z m0 104.440994c0-11.529999 9.295999-20.887999 20.742999-20.887999H814.789952c11.446999 0 20.741999 9.273999 20.741999 20.887999 0 11.529999-9.294999 20.887999-20.741999 20.887998H480.284972a20.762999 20.762999 0 0 1-20.741999-20.887998z m0 104.441993c0-11.529999 9.316999-20.888999 20.846999-20.888998h146.301991c11.509999 0 20.845999 9.274999 20.845999 20.888998 0 11.529999-9.315999 20.887999-20.845999 20.887999H480.388972a20.804999 20.804999 0 0 1-20.845999-20.887999zM62.665996 396.877977a62.664996 62.664996 0 1 1 0-125.329993 62.664996 62.664996 0 0 1 0 125.329993z m0-31.332998a31.331998 31.331998 0 1 0 0-62.664997 31.331998 31.331998 0 0 0 0 62.664997z m1295.074924-93.996995a62.664996 62.664996 0 1 1 0-125.329993 62.664996 62.664996 0 0 1 0 125.329993z m0-31.332998a31.331998 31.331998 0 1 0 0-62.663996 31.331998 31.331998 0 0 0 0 62.663996z",fill:"#8897a2","p-id":"5050"}})]),t._v(" "+t._s(t.title)+" ")])},b=[],C={name:"charts-empty",props:{title:{type:String,default:()=>"暂无数据"}}},_=C,$=x(_,S,b,!1,null,null,null),O=$.exports,I={name:"charts",components:{Loading:w,Empty:O},props:{width:{type:String,default:()=>"300px"},height:{type:String,default:()=>"300px"},loading:{type:Boolean,default:()=>!1},loadingText:{type:String,default:()=>"加载中..."},empty:{type:Boolean,default:()=>!1},emptyText:{type:String,default:()=>"暂无数据"},autoSelect:{type:Boolean,default:()=>!1},autoSelectOptions:{type:Object,default:()=>({loopSeries:!0})},chartExpandAttrs:{type:Object}},computed:{styles(){return{width:this.width,height:this.height}}},data(){return{componentName:"_charts",domId:d(),charts:null,loopShowTooltip:null,chartOptions:{},seriesMap:{}}},watch:{loading(){this.init()},empty(){this.init()}},beforeDestroy(){this.clearListener()},mounted(){this.init()},methods:{async init(){if(await this.$nextTick(),this.loading||this.empty)return this.clearListener(),!1;this.chartOptions["series"]=Object.keys(this.seriesMap).map(t=>this.seriesMap[t]);const t={...this.chartOptions,...this.chartExpandAttrs};if(!this.charts){const t=await l();this.charts=t.init(document.getElementById(this.domId))}this.charts.setOption(t),window.addEventListener("resize",this.charts.resize),this.autoSelect&&(this.loopShowTooltip=h(this.charts,t,this.autoSelectOptions))},setOptions(t,e){this.chartOptions[t]=e},clearListener(){this.charts&&(window.removeEventListener("resize",this.charts.resize),this.charts.clear(),this.charts=null),this.loopShowTooltip&&(this.loopShowTooltip.clearLoop(),this.loopShowTooltip=null)}}},T=I,j=x(T,o,c,!1,null,null,null),z=j.exports;const E=u(z);var M=E;const k=u(O);var L,A,H=k,N={name:"charts-legend",render(t){return t("div")},created(){p.call(this)||this.$parent.setOptions("legend",{...this.$props,...this.$attrs})}},D=N,B=x(D,L,A,!1,null,null,null),P=B.exports;const V=u(P);var R=V;const X=u(w);var U,Y,q=X,F={name:"charts-series",render(t){return t("div")},props:{data:{type:Array,default:()=>[]},type:{type:String,required:!0}},data(){return{currentSeries:d()}},watch:{data:{async handler(){this.createSeriesMapItem(),await this.$nextTick(),this.$parent.init()}}},created(){p.call(this)||this.createSeriesMapItem()},methods:{createSeriesMapItem(){this.$parent.seriesMap[this.currentSeries]={...this.$props,...this.$attrs}}}},Z=F,G=x(Z,U,Y,!1,null,null,null),J=G.exports;const K=u(J);var Q,W,tt=K,et={name:"charts-title",render(t){return t("div")},created(){p.call(this)||this.$parent.setOptions("title",{...this.$props,...this.$attrs})}},rt=et,nt=x(rt,Q,W,!1,null,null,null),it=nt.exports;const at=u(it);var st,ot,ct=at,lt={name:"charts-tooltip",render(t){return t("div")},created(){p.call(this)||this.$parent.setOptions("tooltip",{...this.$props,...this.$attrs})}},dt=lt,ut=x(dt,st,ot,!1,null,null,null),pt=ut.exports;const ht=u(pt);var ft,mt,vt=ht,yt={name:"charts-xAxis",render(t){return t("div")},props:{data:{type:Array,default:()=>[]},type:{type:String,validator:t=>-1!==["value","category","time","log"].indexOf(t)}},created(){p.call(this)||this.$parent.setOptions("xAxis",{...this.$props,...this.$attrs})}},xt=yt,gt=x(xt,ft,mt,!1,null,null,null),wt=gt.exports;const St=u(wt);var bt=St;const Ct=function(t){Object.keys(n).forEach(e=>{t.component(e,n[e])})};"undefined"!==typeof window&&window.Vue&&Ct(window.Vue);var _t={install:Ct};e["default"]=_t}})}));